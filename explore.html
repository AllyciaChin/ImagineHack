<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cultural Trail - Explore</title>
  <link rel="stylesheet" href="css/explore.css">
</head>

<body>
  <div id="header">
    <nav>
      <ul>
        <li><a href="landing.html">Home</a></li>
        <li><a href="explore.html">Explore</a></li>
        <li><a href="game.html">Game</a></li>
        <li><a href="passport.html">Passport</a></li>
        <div id="google_translate_element"></div>
      </ul>
    </nav>

    <h1>üåè Explore Malaysia in 360¬∞</h1>
    <p>Virtual tourism through immersive Google Street View</p>
  </div>

  <!-- Navigation -->
  <section>
    <a href="#petronas">Petronas Twin Towers</a>
    <a href="#jonker">Jonker Street</a>
    <a href="#batu">Batu Caves</a>
    <a href="#kinabalu">Mount Kinabalu</a>
    <a href="#hill">Penang Hill</a>
  </section>

  <!-- Section: 1. Petronas Twin Towers -->
  <section id="petronas">
    <button class="accordion">
      <span class="accordion-title">Petronas Twin Towers üóº</span>
      <span class="arrow">‚ñº</span>
    </button>
    <div class="panel">
      <div id="inner">
        <p>View the city from the iconic Skybridge of Malaysia‚Äôs tallest twin towers.</p>

        <iframe
          src="https://www.google.com/maps/embed?pb=!4v1750496768152!6m8!1m7!1sCAoSFkNJSE0wb2dLRUlDQWdJQ0VqYm50REE.!2m2!1d3.158068005062507!2d101.7126329606251!3f76.70688!4f0!5f0.7820865974627469"
          width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>

        <!-- 1. Travel Tips for Petronas -->
        <h4>üß≥ Travel Tips: </h4>
        <ul>
          <li>Ticket Booking: To avoid long queues, it is advisable to book your tickets online in advance</li>
          <li>Timing: Plan your visit early in the morning or during weekdays to avoid crowds.</li>
          <li>Security Check: Avoid carrying large bags or prohibited items to expedite the security check process.</li>
          <li>Photography: Capture stunning views of the city from the observation deck, but remember to follow the
            photography guidelines. Tripods and selfie sticks are not allowed.</li>
          <li>Shopping and Dining: The Suria KLCC Mall, located at the base of the towers, offers a wide range of
            shopping
            and dining options. </li>
          <li>Nearby Attractions: While visiting the Petronas Twin Towers, consider exploring other nearby attractions
            such as the Aquaria KLCC, or the Kuala Lumpur Convention Centre.</li>
        </ul>
      </div>
    </div>
  </section>


  <!-- Section: 2. Jonker Street -->
  <section id="jonker">
    <button class="accordion">
      <span class="accordion-title">Jonker Street üõ£Ô∏è</span>
      <span class="arrow">‚ñº</span>
    </button>
    <div class="panel">
      <div id="inner">
        <p>Walk through a lively street filled with shops, food, and cultural charm</p>

        <iframe
          src="https://www.google.com/maps/embed?pb=!4v1750499517752!6m8!1m7!1sCAoSF0NJSE0wb2dLRUlDQWdJQzQ3YWJFZ0FF!2m2!1d2.195411702353811!2d102.2478450040143!3f140!4f0!5f0.7820865974627469"
          width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>

        <!-- 2. Travel Tips for Jonker Street -->
        <h4>üß≥ Travel Tips: </h4>
        <ul>
          <li>Bring your sunscreen in the morning, the open air market can get hot and humid.</li>
          <li>You can still bargain with the vendors for lower prices.</li>
          <li>Get your Grab of Uber to set H&M as a drop-off point to start your Jonker Street walk.</li>
        </ul>
      </div>
    </div>
  </section>


  <!-- Section: 3. Batu Caves -->
  <section id="batu">
    <button class="accordion">
      <span class="accordion-title">Batu Caves ‚õ∞Ô∏è </span>
      <span class="arrow">‚ñº</span>
    </button>
    <div class="panel">
      <div id="inner">
        <p>Climb the colorful stairs to explore a famous cave temple and Hindu shrine</p>

        <iframe
          src="https://www.google.com/maps/embed?pb=!4v1750499278820!6m8!1m7!1sCAoSFkNJSE0wb2dLRUlDQWdJQ1JtT3k4SlE.!2m2!1d3.237884419962378!2d101.684038536924!3f0!4f0!5f0.7820865974627469"
          width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>


        <!-- 3. Travel Tips for Batu Caves -->
        <h4>üß≥ Travel Tips: </h4>
        <ul>
          <li>To avoid the crowds and intense heat, it‚Äôs best to visit early in the morning or late in the afternoon.
          </li>
          <li>Avoid wearing shorts or sleeveless tops, and consider covering your shoulders and knees out of respect.
          </li>
          <li>The Batu Caves is home to many monkeys. Be wary about getting too close to them.</li>
          <li>You can take photographs inside the main cave and the smaller caves.</li>
        </ul>
      </div>
    </div>
  </section>


  <!-- Section: 4. Mount Kinabalu ‚õ∞Ô∏è -->
  <section id="kinabalu">
    <button class="accordion">
      <span class="accordion-title">Mount Kinabalu ‚õ∞Ô∏è </span>
      <span class="arrow">‚ñº</span>
    </button>
    <div class="panel">
      <div id="inner">
        <p>Stand among the clouds at Malaysia‚Äôs tallest mountain in Sabah</p>

        <iframe
          src="https://www.google.com/maps/embed?pb=!4v1750499962410!6m8!1m7!1sCAoSFkNJSE0wb2dLRUlDQWdJREc3clR3V1E.!2m2!1d6.075313083400717!2d116.5588237353742!3f225.927967456765!4f-27.07718558538393!5f0.4000000000000002"
          width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>


        <!-- 4. Travel Tips for Mount Kinabalu -->
        <h4>üß≥ Travel Tips: </h4>
        <ul>
          <li>Engaging a mountain guide is compulsory for yourself or your group (Ratio of Max 5 climbers to 1 mountain
            guide).</li>
          <li>Wear comfortable trekking or running shoes with a good grip.</li>
          <li>Pack some energy bars to keep you energized and to keep hungry tummy at bay.</li>
          <li>There will be no health checks conducted by any authorities during climb registration, so climb at your
            own
            risk.</li>
          <li>Remember to wear your ID TAG at all times (important!)</li>
        </ul>
      </div>
    </div>
  </section>


  <!-- Section: 5. Penang Hill -->
  <section id="hill">
    <button class="accordion">
      <span class="accordion-title">Penang Hill üèîÔ∏è </span>
      <span class="arrow">‚ñº</span>
    </button>
    <div class="panel">
      <div id="inner">
        <p>Enjoy panoramic views of George Town from this cool hilltop retreat</p>

        <iframe
          src="https://www.google.com/maps/embed?pb=!4v1750501387548!6m8!1m7!1sCAoSHENJQUJJaEFBM2pVM253bjZ5R2VuRWlvQURvNWw.!2m2!1d5.408461278407425!2d100.2773317026862!3f20!4f0!5f0.7820865974627469"
          width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>

        <!-- 5. Travel Tips for Penang Hill -->
        <h4>üß≥ Travel Tips: </h4>
        <ul>
          <li>Penang Hill is one of the busiest attractions on Penang Island so try to prepare yourselves for the crowds
            and queues, especially if you‚Äôre arriving via the funicular.</li>
          <li>If possible, try to arrive early as you‚Äôll find the whole area so much quieter, and the early morning
            views
            across the island are some of the best.</li>
          <li>The food options can be limited and overpriced; try to fill-up before you arrive.</li>
          <li>Choose a couple of activities to focus on rather than trying to rush around ticking everything off.</li>
        </ul>
      </div>
    </div>
  </section>

  <script>
    function preserveLanguage() {
      const observer = new MutationObserver(() => {
        const selectedLang = document.querySelector(".goog-te-combo")?.value;
        if (selectedLang) {
          localStorage.setItem("preferredLanguage", selectedLang);
        }
      });

      observer.observe(document.body, {
        childList: true,
        subtree: true
      });
    }

    window.addEventListener("load", preserveLanguage);

    function applySavedLanguage() {
      const savedLang = localStorage.getItem("preferredLanguage");

      if (savedLang) {
        const interval = setInterval(() => {
          const combo = document.querySelector(".goog-te-combo");
          if (combo) {
            combo.value = savedLang;
            combo.dispatchEvent(new Event("change")); // trigger translation
            clearInterval(interval);
          }
        }, 500); // wait until widget is available
      }
    }

    window.addEventListener("load", applySavedLanguage);

    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,ms,zh-CN',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }

    // Get ?lang=zh-CN from URL
    const urlParams = new URLSearchParams(window.location.search);
    const lang = urlParams.get("lang");

    // Wait for Translate dropdown to load, then set value
    window.addEventListener("load", () => {
      if (lang) {
        const interval = setInterval(() => {
          const combo = document.querySelector(".goog-te-combo");
          if (combo) {
            combo.value = lang;
            combo.dispatchEvent(new Event("change"));
            clearInterval(interval);
          }
        }, 500);
      }

      // Add ?lang=... to all internal links
      document.querySelectorAll("a").forEach(link => {
        if (link.href.includes(".html") && lang) {
          const newHref = link.href.split("?")[0] + "?lang=" + lang;
          link.href = newHref;
        }
      });
    });

    // Store selection in URL
    const observer = new MutationObserver(() => {
      const combo = document.querySelector(".goog-te-combo");
      if (combo) {
        combo.addEventListener("change", () => {
          const selected = combo.value;
          const currentURL = window.location.pathname.split("/").pop();
          window.location.href = `${currentURL}?lang=${selected}`;
        });
        observer.disconnect();
      }
    });
    observer.observe(document.body, { childList: true, subtree: true });
  </script>
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <script src="js/explore.js"></script>
</body>

</html>